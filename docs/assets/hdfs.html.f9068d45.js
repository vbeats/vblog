import{e as a}from"./app.5b758a1b.js";import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";const s={},e=a(`<h1 id="hdfs" tabindex="-1"><a class="header-anchor" href="#hdfs" aria-hidden="true">#</a> HDFS</h1><blockquote><p>\u5206\u5E03\u5F0F\u6587\u4EF6\u7CFB\u7EDF, \u6587\u4EF6\u6570\u636E\u53EA\u8FFD\u52A0,\u4E0D\u4FEE\u6539</p></blockquote><h2 id="name-node" tabindex="-1"><a class="header-anchor" href="#name-node" aria-hidden="true">#</a> Name Node</h2><ol><li>\u9ED8\u8BA4\u6570\u636E\u5757\u5927\u5C0F 128M df.blocksize</li><li>data \u5143\u6570\u636E, \u5185\u5B58\u5B58\u50A8, \u78C1\u76D8 FsImage \u5907\u4EFD</li><li>\u5185\u5B58\u6570\u636E\u66F4\u65B0, Edits \u78C1\u76D8\u6587\u4EF6\u4E0D\u65AD\u8FFD\u52A0\u64CD\u4F5C</li><li>data \u6570\u636E\u6821\u9A8C\u548C</li><li>\u7EF4\u62A4 data node \u7684\u5FC3\u8DF3\u68C0\u67E5</li></ol><h2 id="data-node" tabindex="-1"><a class="header-anchor" href="#data-node" aria-hidden="true">#</a> Data Node</h2><ol><li>\u96C6\u7FA4\u542F\u52A8\u540E, data node \u95F4\u9694\u4E0A\u62A5\u6570\u636E\u5757\u4FE1\u606F</li><li>\u5C0F\u6587\u4EF6\u5F52\u6863, \u8FD8\u662F\u72EC\u7ACB\u7684\u6587\u4EF6, \u5BF9\u4E8E name node \u5C01\u88C5\u6210\u4E00\u4E2A\u6574\u4F53</li></ol><h2 id="client" tabindex="-1"><a class="header-anchor" href="#client" aria-hidden="true">#</a> Client</h2><blockquote><p>\u5207\u5206\u6570\u636E, \u4E0E namenode&amp;datanode \u4EA4\u4E92</p></blockquote><h2 id="secondary-namenode" tabindex="-1"><a class="header-anchor" href="#secondary-namenode" aria-hidden="true">#</a> Secondary NameNode</h2><ol><li>\u76D1\u63A7 hdfs \u8FD0\u884C\u72B6\u6001, \u8F85\u52A9\u6062\u590D name node, \u5B9A\u671F\u5408\u5E76 FsImage \u548C Edits &amp; \u66F4\u65B0\u5185\u5B58\u4E2D\u7684 NameNode \u6570\u636E</li><li>checkpoint \u9ED8\u8BA4 1 \u5C0F\u65F6, txns \u6B21\u6570\u68C0\u67E5(\u5408\u5E76 fsimage&amp;edits)</li></ol><h2 id="\u56DE\u6536\u7AD9" tabindex="-1"><a class="header-anchor" href="#\u56DE\u6536\u7AD9" aria-hidden="true">#</a> \u56DE\u6536\u7AD9</h2><blockquote><p>core-site.xml</p></blockquote><ol><li>fs.trash.interval 0 \u7981\u7528, \u5176\u4ED6\u503C: \u5B58\u6D3B\u65F6\u95F4(minutes)</li><li>fs.trash.checkpoint.interval \u68C0\u67E5\u65F6\u95F4\u95F4\u9694</li></ol><h2 id="\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u547D\u4EE4" aria-hidden="true">#</a> \u547D\u4EE4</h2><blockquote><p>hadoop fs or hdfs dfs, dfs \u662F fs \u7684\u5B9E\u73B0\u7C7B</p></blockquote><blockquote><p>hadoop distcp hdfs://.... hdfs://... \u96C6\u7FA4\u95F4\u6570\u636E\u62F7\u8D1D</p></blockquote><blockquote><p>hadoop archive -archiveName xxx.har -p /data/.... /dest/... \u5F52\u6863\u6587\u4EF6</p></blockquote><blockquote><p>hadoop fs -ls -R har:///dest/...</p></blockquote><h2 id="java" tabindex="-1"><a class="header-anchor" href="#java" aria-hidden="true">#</a> Java</h2><blockquote><p>\u901A\u8FC7 FileSystem \u64CD\u4F5C HDFS</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>        <span class="token class-name">Configuration</span> cfg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">FileSystem</span> fs <span class="token operator">=</span> <span class="token class-name">FileSystem</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>URI<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;hdfs://hadoop1:9000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cfg<span class="token punctuation">,</span> <span class="token string">&quot;battery&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//boolean mkdirs = fs.mkdirs(new Path(&quot;/data&quot;));</span>
        fs<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token string">&quot;/data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        fs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,21);function t(o,p){return e}var i=n(s,[["render",t]]);export{i as default};
