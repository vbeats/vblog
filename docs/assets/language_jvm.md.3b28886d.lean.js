import{o as l,c as e,a as n,b as a}from"./app.040fc7a7.js";const u='{"title":"JVM ğŸŒŸ","description":"","frontmatter":{},"headers":[{"level":2,"title":"åç¼–è¯‘","slug":"åç¼–è¯‘"},{"level":2,"title":"æŒ‡ä»¤é›†æ¶æ„","slug":"æŒ‡ä»¤é›†æ¶æ„"},{"level":2,"title":"ç”Ÿå‘½å‘¨æœŸ","slug":"ç”Ÿå‘½å‘¨æœŸ"},{"level":2,"title":"Runtime","slug":"runtime"},{"level":2,"title":"æ¶æ„å›¾","slug":"æ¶æ„å›¾"},{"level":2,"title":"classlocader","slug":"classlocader"},{"level":2,"title":"jvm å‚æ•°","slug":"jvm-å‚æ•°"},{"level":2,"title":"GC","slug":"gc"},{"level":2,"title":"oom","slug":"oom"},{"level":2,"title":"è°ƒè¯•","slug":"è°ƒè¯•"},{"level":2,"title":"CountDownLatch","slug":"countdownlatch"},{"level":2,"title":"CyclicBarrier","slug":"cyclicbarrier"},{"level":2,"title":"Semaphore","slug":"semaphore"},{"level":2,"title":"ReentrantLock","slug":"reentrantlock"},{"level":2,"title":"Condition","slug":"condition"},{"level":2,"title":"ReadWriteLock/ReetrantReadWriteLock","slug":"readwritelock-reetrantreadwritelock"},{"level":2,"title":"volatile","slug":"volatile"},{"level":2,"title":"BlockingQueue","slug":"blockingqueue"},{"level":2,"title":"ThreadPool","slug":"threadpool"},{"level":2,"title":"ForkJoin","slug":"forkjoin"},{"level":2,"title":"CompleteableFuture","slug":"completeablefuture"},{"level":2,"title":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹"}],"relativePath":"language/jvm.md","lastUpdated":1627208176274}',o={},r=n("h1",{id:"jvm-ğŸŒŸ"},[n("a",{class:"header-anchor",href:"#jvm-ğŸŒŸ","aria-hidden":"true"},"#"),a(" JVM ğŸŒŸ")],-1),c=n("p",null,[n("a",{href:"https://render.alipay.com/p/s/jvm-generate/",target:"_blank",rel:"noopener noreferrer"},"å·¥å…·")],-1),t=n("p",null,[n("code",null,"hotspot"),a(" : "),n("code",null,"è§£é‡Šå™¨"),a("ä¸"),n("code",null,"jitå³æ—¶ç¼–è¯‘å™¨"),a("ååŒå·¥ä½œ "),n("code",null,"jrocket"),a(": oracle ä¸“æ³¨äºæœåŠ¡ç«¯åº”ç”¨, åªåŒ…å«å³æ—¶ç¼–è¯‘å™¨,å¯åŠ¨æ…¢ è¿è¡Œæ—¶é€Ÿåº¦å¿« "),n("code",null,"j9"),a(": ibm "),n("code",null,"harmony"),a(": apache/ibm/intel")],-1),i=n("p",null,"ç­‰ç­‰â€¦",-1),s=n("h2",{id:"åç¼–è¯‘"},[n("a",{class:"header-anchor",href:"#åç¼–è¯‘","aria-hidden":"true"},"#"),a(" åç¼–è¯‘")],-1),d=n("div",{class:"language-bash"},[n("pre",null,[n("code",null,"javap -v xxx.class\n")])],-1),h=n("h2",{id:"æŒ‡ä»¤é›†æ¶æ„"},[n("a",{class:"header-anchor",href:"#æŒ‡ä»¤é›†æ¶æ„","aria-hidden":"true"},"#"),a(" æŒ‡ä»¤é›†æ¶æ„")],-1),p=n("blockquote",null,[n("p",null,"jvm åŸºäºæ ˆçš„æŒ‡ä»¤é›†æ¶æ„, æŒ‡ä»¤é›†å° æ­¥éª¤å¤š è·¨å¹³å° å’Œ cpu æŒ‡ä»¤é›†è€¦åˆä½")],-1),m=n("h2",{id:"ç”Ÿå‘½å‘¨æœŸ"},[n("a",{class:"header-anchor",href:"#ç”Ÿå‘½å‘¨æœŸ","aria-hidden":"true"},"#"),a(" ç”Ÿå‘½å‘¨æœŸ")],-1),k=n("ul",null,[n("li",null,"å¯åŠ¨ bootstrap class loader åˆ›å»º init class æ¥å®Œæˆ"),n("li",null,"æ‰§è¡Œ java ç¨‹åº"),n("li",null,"é€€å‡º æ­£å¸¸/å¼‚å¸¸é€€å‡º")],-1),g=n("h2",{id:"runtime"},[n("a",{class:"header-anchor",href:"#runtime","aria-hidden":"true"},"#"),a(" Runtime")],-1),v=n("blockquote",null,[n("p",null,[a("ç®¡ç†è¿è¡Œæ—¶æ•°æ®åŒº"),n("code",null,"runtime data area")])],-1),f=n("h2",{id:"æ¶æ„å›¾"},[n("a",{class:"header-anchor",href:"#æ¶æ„å›¾","aria-hidden":"true"},"#"),a(" æ¶æ„å›¾")],-1),j=n("p",null,[n("img",{src:"/assets/jvm.b5939b84.png",alt:""})],-1),b=n("h2",{id:"classlocader"},[n("a",{class:"header-anchor",href:"#classlocader","aria-hidden":"true"},"#"),a(" classlocader")],-1),T=n("ol",null,[n("li",null,"åŠ è½½ class å¹¶å®ä¾‹åŒ–"),n("li",null,"link prepare é˜¶æ®µ ç±»å˜é‡åˆå§‹åŒ–")],-1),w=n("h2",{id:"jvm-å‚æ•°"},[n("a",{class:"header-anchor",href:"#jvm-å‚æ•°","aria-hidden":"true"},"#"),a(" jvm å‚æ•°")],-1),y=n("ul",null,[n("li",null,[n("p",null,"Xms å †èµ·å§‹å†…å­˜")]),n("li",null,[n("p",null,"Xmx å †æœ€å¤§å†…å­˜")]),n("li",null,[n("p",null,"Xmn æ–°ç”Ÿä»£å¤§å°")]),n("li",null,[n("p",null,"XX:+PrintGCDetails")]),n("li",null,[n("p",null,"XX:metspaceSize")]),n("li",null,[n("p",null,"client/server 64 ä½é»˜è®¤ server æ¨¡å¼")]),n("li",null,[n("p",null,"XX:+HeapDumpOnOutOfMemoryError oom ç”Ÿæˆ dump æ–‡ä»¶"),n("p",null,"å ç”¨å¤§å°->gc åå¤§å°->åˆ†é…çš„å¤§å°"),n("p",null,[n("code",null,"yongGC"),a(),n("code",null,"old"),a(),n("code",null,"GC fullGc")])])],-1),C=n("h2",{id:"gc"},[n("a",{class:"header-anchor",href:"#gc","aria-hidden":"true"},"#"),a(" GC")],-1),x=n("p",null,[n("code",null,"G1")],-1),R=n("ul",null,[n("li",null,"å¹¶å‘/å¹¶è¡Œ æ ‡è®°"),n("li",null,"åˆ†ä»£æ”¶é›†"),n("li",null,"ç©ºé—´æ•´åˆ"),n("li",null,"å¯é¢„æµ‹çš„åœé¡¿æ—¶é—´æ¨¡å‹")],-1),q=n("h2",{id:"oom"},[n("a",{class:"header-anchor",href:"#oom","aria-hidden":"true"},"#"),a(" oom")],-1),P=n("ul",null,[n("li",null,[n("p",null,"å¹´è½»ä»£"),n("p",null,"å­˜æ´»æ—¶é—´çŸ­ eden space æ»¡äº† gc è½¬å…¥è€å¹´ä»£")]),n("li",null,[n("p",null,"è€å¹´ä»£"),n("p",null,"å­˜æ´»æ—¶é—´é•¿ XX:NewRatio=4 æ–°æ—¶ä»£ 1 è€å¹´ä»£ 4")]),n("li",null,[n("p",null,"minor gc æ–°ç”Ÿä»£ gc")]),n("li",null,[n("p",null,"major gc è€å¹´ä»£ gc ç”¨æˆ·çº¿ç¨‹æš‚åœ å°½é‡é¿å…")]),n("li",null,[n("p",null,"full gc ç”¨æˆ·çº¿ç¨‹æš‚åœ system.gc() è€å¹´ä»£ç©ºé—´ä¸è¶³ æ–¹æ³•åŒºç©ºé—´ä¸è¶³ å°½é‡é¿å…")]),n("li",null,[n("p",null,"æ–¹æ³•åŒºè¶…é™")])],-1),L=n("h2",{id:"è°ƒè¯•"},[n("a",{class:"header-anchor",href:"#è°ƒè¯•","aria-hidden":"true"},"#"),a(" è°ƒè¯•")],-1),S=n("ul",null,[n("li",null,[n("p",null,"jvisualVM")]),n("li",null,[n("p",null,"flight recorder")]),n("li",null,[n("p",null,"jprofiler")]),n("li",null,[n("p",null,"gcviewer/gceasy")])],-1),X=n("p",null,"å†…å­˜æ³„éœ²æ£€æŸ¥â€“>å †/æ–¹æ³•åŒºå†…å­˜å‚æ•°",-1),B=n("h1",{id:"å¹¶å‘ç¼–ç¨‹"},[n("a",{class:"header-anchor",href:"#å¹¶å‘ç¼–ç¨‹","aria-hidden":"true"},"#"),a(" å¹¶å‘ç¼–ç¨‹")],-1),F=n("h2",{id:"countdownlatch"},[n("a",{class:"header-anchor",href:"#countdownlatch","aria-hidden":"true"},"#"),a(" CountDownLatch")],-1),G=n("p",null,"å‡æ³• çº¿ç¨‹å¤–ç­‰å¾…",-1),D=n("h2",{id:"cyclicbarrier"},[n("a",{class:"header-anchor",href:"#cyclicbarrier","aria-hidden":"true"},"#"),a(" CyclicBarrier")],-1),J=n("p",null,"åŠ æ³• çº¿ç¨‹å†…éƒ¨ç­‰å¾…",-1),z=n("h2",{id:"semaphore"},[n("a",{class:"header-anchor",href:"#semaphore","aria-hidden":"true"},"#"),a(" Semaphore")],-1),E=n("p",null,"ä¿¡å·é‡ æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°é‡ acquire()/release()",-1),A=n("h2",{id:"reentrantlock"},[n("a",{class:"header-anchor",href:"#reentrantlock","aria-hidden":"true"},"#"),a(" ReentrantLock")],-1),M=n("p",null,"lock/unLock",-1),O=n("h2",{id:"condition"},[n("a",{class:"header-anchor",href:"#condition","aria-hidden":"true"},"#"),a(" Condition")],-1),W=n("p",null,"æ¡ä»¶é˜Ÿåˆ— await/signal ä¸€ä¸ªçº¿ç¨‹é˜»å¡ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹çš„ä¿¡å·",-1),Q=n("h2",{id:"readwritelock-reetrantreadwritelock"},[n("a",{class:"header-anchor",href:"#readwritelock-reetrantreadwritelock","aria-hidden":"true"},"#"),a(" ReadWriteLock/ReetrantReadWriteLock")],-1),V=n("p",null,"è¯»å†™é” readLock/writeLock",-1),H=n("h2",{id:"volatile"},[n("a",{class:"header-anchor",href:"#volatile","aria-hidden":"true"},"#"),a(" volatile")],-1),N=n("p",null,"å…±äº«å˜é‡ï¼ˆç±»çš„æˆå‘˜å˜é‡ã€ç±»çš„é™æ€æˆå‘˜å˜é‡ï¼‰",-1),U=n("ul",null,[n("li",null,"ä¿è¯äº†ä¸åŒçº¿ç¨‹å¯¹è¿™ä¸ªå˜é‡è¿›è¡Œæ“ä½œæ—¶çš„å¯è§æ€§ï¼Œå³ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æŸä¸ªå˜é‡çš„å€¼ï¼Œè¿™æ–°å€¼å¯¹å…¶ä»–çº¿ç¨‹æ¥è¯´æ˜¯ç«‹å³å¯è§çš„"),n("li",null,"ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åº")],-1),_=n("p",null,[a("åº”ç”¨åœºæ™¯: "),n("code",null,"çŠ¶æ€æ ‡å¿—"),a(),n("code",null,"å•ä¾‹æ¨¡å¼"),a(),n("code",null,"ç‹¬ç«‹è§‚å¯Ÿ")],-1),I=n("h2",{id:"blockingqueue"},[n("a",{class:"header-anchor",href:"#blockingqueue","aria-hidden":"true"},"#"),a(" BlockingQueue")],-1),K=n("p",null,"é˜»å¡é˜Ÿåˆ— put/take",-1),Y=n("ul",null,[n("li",null,"arrayBlockingqueue æ•°ç»„ç»“æ„"),n("li",null,"linkedBlockingqueue é“¾è¡¨ç»“æ„"),n("li",null,"linkedBlockingdeque åŒå‘é“¾è¡¨é˜»å¡é˜Ÿåˆ—")],-1),Z=n("p",null,[n("code",null,"æ’å…¥"),a(": add(æŠ›å¼‚å¸¸) offer(ç‰¹æ®Šå€¼) put(é˜»å¡) offer(è¶…æ—¶) "),n("code",null,"ç§»é™¤"),a(": remove poll take poll(time) "),n("code",null,"æ£€æŸ¥"),a(": element peek æ—  æ— ")],-1),$=n("blockquote",null,[n("p",null,"ç‰¹æ®Šå€¼: å¢åˆ è¿”å› true/false æ£€æŸ¥è¿”å›å…ƒç´ /null")],-1),ll=n("h2",{id:"threadpool"},[n("a",{class:"header-anchor",href:"#threadpool","aria-hidden":"true"},"#"),a(" ThreadPool")],-1),el=n("p",null,[n("code",null,"ExecutorService"),a(),n("code",null,"Executors")],-1),nl=n("ul",null,[n("li",null,"newFixedThreadPool"),n("li",null,"newCachedThreadPool"),n("li",null,"newSingleThreadExecutor"),n("li",null,"newScheduledThreadPool")],-1),al=n("p",null,[n("code",null,"ThreadPoolExecutor"),a(":")],-1),ul=n("blockquote",null,[n("p",null,"æœ€å¤§å®¹çº³æ•° maxpoolSize+queueSize")],-1),ol=n("ul",null,[n("li",null,"corePoolSize"),n("li",null,"maxPoolSize cpu å¯†é›†å‹:cpu æ ¸å¿ƒæ•° io å¯†é›†å‹:æœ€å¤§ä»»åŠ¡æ•°-é˜Ÿåˆ—å®¹é‡ï¼‰/æ¯ä¸ªçº¿ç¨‹æ¯ç§’å¤„ç†èƒ½åŠ› = æœ€å¤§çº¿ç¨‹æ•°"),n("li",null,"keepAliveTime"),n("li",null,"blockingQueue"),n("li",null,"threadFactory"),n("li",null,[a("rejectHandler "),n("code",null,"Abort"),a("æŠ›å¼‚å¸¸ "),n("code",null,"CallerRuns"),a("å›é€€ç»™è°ƒç”¨æ–¹çº¿ç¨‹å¤„ç† "),n("code",null,"Discard"),a("ä¸¢å¼ƒ "),n("code",null,"DiscardOldest")])],-1),rl=n("h2",{id:"forkjoin"},[n("a",{class:"header-anchor",href:"#forkjoin","aria-hidden":"true"},"#"),a(" ForkJoin")],-1),cl=n("p",null,[n("code",null,"ForkJoinPool"),a(),n("code",null,"ForkJoinTask"),a(),n("code",null,"RecursiveTask")],-1),tl=n("p",null,[n("code",null,"computer"),a("æ–¹æ³•å†… fork() é€’å½’æ‰§è¡Œ computer æ–¹æ³•ä»»åŠ¡, æ±‡æ€»ç»“æœ result=xx.join()")],-1),il=n("h2",{id:"completeablefuture"},[n("a",{class:"header-anchor",href:"#completeablefuture","aria-hidden":"true"},"#"),a(" CompleteableFuture")],-1),sl=n("p",null,[n("code",null,"å¼‚æ­¥å›è°ƒ")],-1),dl=n("p",null,[n("code",null,"runAsync"),a(" : æ²¡æœ‰è¿”å›å€¼ "),n("code",null,"supplyAsync"),a(" : éœ€è¦è¿”å›å€¼")],-1),hl=n("p",null,[n("code",null,"whenComplete"),a(),n("code",null,"exceptionaly"),a(),n("code",null,"get")],-1),pl=n("h2",{id:"å‡½æ•°å¼ç¼–ç¨‹"},[n("a",{class:"header-anchor",href:"#å‡½æ•°å¼ç¼–ç¨‹","aria-hidden":"true"},"#"),a(" å‡½æ•°å¼ç¼–ç¨‹")],-1),ml=n("div",{class:"language-java"},[n("pre",null,[n("code",null,[n("span",{class:"token class-name"},"Function"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"T"),n("span",{class:"token punctuation"},","),n("span",{class:"token class-name"},"R"),n("span",{class:"token punctuation"},">")]),a("\n"),n("span",{class:"token comment"},"// T:è¾“å…¥ R:è¿”å›"),a("\n"),n("span",{class:"token comment"},"// R apply(T)"),a("\n"),n("span",{class:"token class-name"},"Predicate"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"T"),n("span",{class:"token punctuation"},">")]),a("\n\n"),n("span",{class:"token comment"},"//   T:è¾“å…¥ è¿”å›:Boolean"),a("\n\n"),n("span",{class:"token comment"},"//   Boolean test(T)"),a("\n\n"),n("span",{class:"token class-name"},"Consumer"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"T"),n("span",{class:"token punctuation"},">")]),a("\n\n"),n("span",{class:"token comment"},"//   T:è¾“å…¥ è¿”å›:void"),a("\n\n"),n("span",{class:"token comment"},"//   void accept(T)"),a("\n\n"),n("span",{class:"token class-name"},"Supplier"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"T"),n("span",{class:"token punctuation"},">")]),a("\n\n"),n("span",{class:"token comment"},"//   è¾“å…¥:void è¿”å›:T"),a("\n\n"),n("span",{class:"token comment"},"//   T get()"),a("\n")])])],-1);o.render=function(n,a,u,o,kl,gl){return l(),e("div",null,[r,c,t,i,s,d,h,p,m,k,g,v,f,j,b,T,w,y,C,x,R,q,P,L,S,X,B,F,G,D,J,z,E,A,M,O,W,Q,V,H,N,U,_,I,K,Y,Z,$,ll,el,nl,al,ul,ol,rl,cl,tl,il,sl,dl,hl,pl,ml])};export default o;export{u as __pageData};
