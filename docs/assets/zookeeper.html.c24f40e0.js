import{e as a}from"./app.8133d89c.js";import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";const n={},e=a(`<h1 id="zookeeper" tabindex="-1"><a class="header-anchor" href="#zookeeper" aria-hidden="true">#</a> Zookeeper</h1><p>\u8282\u70B9\u914D\u7F6E, \u670D\u52A1\u6CE8\u518C \u53D1\u73B0, \u8C03\u5EA6, \u5206\u5E03\u5F0F\u670D\u52A1\u6CBB\u7406......</p><p>\u89C2\u5BDF\u8005\u6A21\u5F0F, zookeeper \u5B58\u50A8\u7684\u6570\u636E\u53D8\u5316, \u901A\u77E5\u5DF2\u6CE8\u518C\u7684\u8282\u70B9</p><h2 id="\u96C6\u7FA4" tabindex="-1"><a class="header-anchor" href="#\u96C6\u7FA4" aria-hidden="true">#</a> \u96C6\u7FA4</h2><p>\u4E00\u4E3B\u591A\u4ECE,\u534A\u6570\u5B58\u6D3B\u5C31\u80FD\u6B63\u5E38\u670D\u52A1 \u6BCF\u4E2A server \u6570\u636E\u4E00\u81F4 \u5BA2\u6237\u7AEF\u8BF7\u6C42\u987A\u5E8F\u6267\u884C \u6570\u636E\u66F4\u65B0\u539F\u5B50\u6027 \u5B9E\u65F6\u6027</p><h2 id="\u6295\u7968\u673A\u5236" tabindex="-1"><a class="header-anchor" href="#\u6295\u7968\u673A\u5236" aria-hidden="true">#</a> \u6295\u7968\u673A\u5236</h2><p>\u6BCF\u4E2A\u8282\u70B9\u81EA\u5DF1\u6295\u81EA\u5DF1, \u6295\u81EA\u5DF1\u9009\u4E0D\u51FA master \u7684\u8BDD, \u5C31\u628A\u7968\u6295\u7ED9 id \u503C\u5927\u7684\u8282\u70B9</p><h2 id="\u8282\u70B9\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u8282\u70B9\u7C7B\u578B" aria-hidden="true">#</a> \u8282\u70B9\u7C7B\u578B</h2><p>\u6301\u4E45/\u77ED\u6682</p><h2 id="\u96C6\u7FA4\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u96C6\u7FA4\u914D\u7F6E" aria-hidden="true">#</a> \u96C6\u7FA4\u914D\u7F6E</h2><p>zookeeper data \u76EE\u5F55\u4E0B\u65B0\u5EFA <code>myid</code> \u6587\u4EF6, \u91CC\u8FB9\u653E id \u503C: 1,2,3...., \u4E0D\u540C\u8282\u70B9\u4E0D\u8981\u91CD\u590D</p><p>zoo.cfg \u589E\u52A0\u8282\u70B9\u914D\u7F6E</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">dataDir</span><span class="token operator">=</span>/data
<span class="token assign-left variable">dataLogDir</span><span class="token operator">=</span>/datalog
server.1<span class="token operator">=</span>xxxx:2888:3888
server.2<span class="token operator">=</span>xxxx:2888:3888
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u683C\u5F0F:</p><blockquote><p>server.id=ip:\u6570\u636E\u901A\u4FE1\u7AEF\u53E3\u53F7:\u6295\u7968\u901A\u4FE1\u7AEF\u53E3\u53F7</p></blockquote><h2 id="\u5BA2\u6237\u7AEF" tabindex="-1"><a class="header-anchor" href="#\u5BA2\u6237\u7AEF" aria-hidden="true">#</a> \u5BA2\u6237\u7AEF</h2><p>\u547D\u4EE4:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ls: \u67E5\u770B\u8282\u70B9\u5185\u5BB9
ls2: \u8BE6\u7EC6\u5185\u5BB9
<span class="token function">ls</span> /test watch: \u76D1\u542C/test\u8282\u70B9\u8DEF\u5F84\u53D8\u5316
create /test <span class="token string">&quot;ttttt&quot;</span><span class="token builtin class-name">:</span> \u521B\u5EFA\u8282\u70B9\u5E76\u8BBE\u7F6E\u5185\u5BB9
create -e /test/mm <span class="token string">&quot;mmmm&quot;</span><span class="token builtin class-name">:</span> \u521B\u5EFA\u77ED\u6682\u8282\u70B9, zookeeper\u91CD\u542F\u5C31\u6CA1\u4E86
create -s /test/nn <span class="token string">&quot;nnn&quot;</span><span class="token builtin class-name">:</span> nn00002<span class="token punctuation">..</span><span class="token punctuation">..</span>, \u5E26\u5E8F\u53F7\u81EA\u589E
get /test: \u4ECE\u8282\u70B9/test\u53D6\u503C
<span class="token builtin class-name">set</span> /test <span class="token string">&quot;xxxx&quot;</span><span class="token builtin class-name">:</span> \u8BBE\u7F6E\u503C
get /test watch: \u76D1\u542C\u8282\u70B9\u503C\u53D8\u5316
delete /test: \u5220\u9664\u8282\u70B9
rmr /test: \u9012\u5F52\u5220\u9664
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="stat-\u7ED3\u6784\u4F53" tabindex="-1"><a class="header-anchor" href="#stat-\u7ED3\u6784\u4F53" aria-hidden="true">#</a> stat \u7ED3\u6784\u4F53</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>czxid: \u521B\u5EFA\u8282\u70B9\u7684\u4E8B\u52A1zxid<span class="token punctuation">(</span>\u65F6\u95F4\u6233<span class="token punctuation">)</span>
ctime-znode: \u521B\u5EFA\u65F6\u95F4\u6233
mzxid-znode: \u6700\u540E\u66F4\u65B0\u7684\u4E8B\u52A1zxid
dataLength-znode: \u6570\u636E\u957F\u5EA6
numChildren-znode: \u5B50\u8282\u70B9\u6570\u91CF
<span class="token punctuation">..</span><span class="token punctuation">..</span>.
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="\u76D1\u542C\u5668" tabindex="-1"><a class="header-anchor" href="#\u76D1\u542C\u5668" aria-hidden="true">#</a> \u76D1\u542C\u5668</h2><ol><li>\u4E3B\u7EBF\u7A0B\u4E2D\u521B\u5EFA zookeeper \u5BA2\u6237\u7AEF, \u5BA2\u6237\u7AEF\u521B\u5EFA\u4E24\u4E2A\u7EBF\u7A0B\u8D1F\u8D23\u7F51\u7EDC\u8FDE\u63A5\u901A\u4FE1 connect \u4E0E\u76D1\u542C listener</li><li>connect \u7EBF\u7A0B\u628A\u6CE8\u518C\u7684\u76D1\u542C\u4E8B\u4EF6\u53D1\u9001\u7ED9 zookeeper</li><li>zookeeper \u76D1\u542C\u5668\u5217\u8868\u4E2D\u52A0\u5165 \u5BA2\u6237\u7AEF\u53D1\u6765\u7684\u8981\u88AB\u76D1\u542C\u7684\u4E8B\u4EF6</li><li>zookeeper \u76D1\u542C\u5230\u6709\u6570\u636E/\u8DEF\u5F84\u53D8\u5316, \u5411\u5BA2\u6237\u7AEF\u53D1\u9001\u901A\u77E5\u6D88\u606F</li><li>\u5BA2\u6237\u7AEF listener \u6536\u5230\u6D88\u606F....</li></ol><h2 id="\u6570\u636E\u540C\u6B65" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u540C\u6B65" aria-hidden="true">#</a> \u6570\u636E\u540C\u6B65</h2><ol><li>\u5BA2\u6237\u7AEF\u5411\u4E00\u4E2A server \u5199\u5165\u6570\u636E</li><li>server \u5982\u679C\u4E0D\u662F master, \u5C31\u53D1\u9001\u7ED9 master</li><li>master \u4F1A\u628A\u6570\u636E\u5E7F\u64AD\u7ED9\u6240\u6709\u7684\u5BA2\u6237\u7AEF</li><li>\u534A\u6570\u4EE5\u4E0A\u7684 server \u5199\u6210\u529F\u540E\u5C31\u901A\u77E5\u5BA2\u6237\u7AEF\u6210\u529F\u4E86</li></ol>`,24);function r(t,p){return e}var c=s(n,[["render",r]]);export{c as default};
