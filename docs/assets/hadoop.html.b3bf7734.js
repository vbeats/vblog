import{e as n}from"./app.0c7793af.js";import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";const a={},p=n(`<h1 id="hadoop-\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#hadoop-\u57FA\u7840" aria-hidden="true">#</a> Hadoop \u57FA\u7840</h1><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u57FA\u7840\u7ED3\u6784</p></div><h2 id="namenode" tabindex="-1"><a class="header-anchor" href="#namenode" aria-hidden="true">#</a> NameNode</h2><blockquote><p>\u5B58\u50A8\u6587\u4EF6\u5143\u6570\u636E, \u7D22\u5F15\u4FE1\u606F</p></blockquote><h2 id="datanode" tabindex="-1"><a class="header-anchor" href="#datanode" aria-hidden="true">#</a> DataNode</h2><blockquote><p>\u6587\u4EF6\u6570\u636E&amp;\u6570\u636E\u5757\u6821\u9A8C\u4FE1\u606F</p></blockquote><h2 id="secondary-namenode" tabindex="-1"><a class="header-anchor" href="#secondary-namenode" aria-hidden="true">#</a> Secondary NameNode</h2><blockquote><p>\u76D1\u63A7 HDFS \u72B6\u6001\u7684\u540E\u53F0\u8FDB\u7A0B</p></blockquote><h2 id="yarn" tabindex="-1"><a class="header-anchor" href="#yarn" aria-hidden="true">#</a> Yarn</h2><blockquote><p>\u8D44\u6E90\u8C03\u5EA6</p></blockquote><ol><li>resource manager: \u63A5\u6536\u5BA2\u6237\u7AEF\u8BF7\u6C42, \u76D1\u63A7 node manager, \u542F\u52A8&amp;\u76D1\u63A7 app master, \u8D44\u6E90\u5206\u914D&amp;\u8C03\u5EA6</li><li>node manager: \u7BA1\u7406\u5355\u8282\u70B9\u8D44\u6E90, \u5904\u7406 resource manger&amp;app master \u7684\u547D\u4EE4</li><li>app master: \u5207\u5206\u6570\u636E, \u7533\u8BF7\u8D44\u6E90&amp;\u5206\u914D\u7ED9\u5185\u90E8\u7684\u4EFB\u52A1, \u4EFB\u52A1\u76D1\u63A7</li><li>container: \u5BB9\u5668, \u62BD\u8C61\u7684\u8D44\u6E90\u6982\u5FF5, \u5C01\u88C5\u4E86\u8282\u70B9\u4E0A\u7684\u8D44\u6E90\u4FE1\u606F(\u5185\u5B58,cpu.....)</li></ol><h2 id="map-reduce" tabindex="-1"><a class="header-anchor" href="#map-reduce" aria-hidden="true">#</a> Map Reduce</h2><blockquote><p>map: \u5E76\u884C\u5904\u7406\u6570\u636E reduce: \u6C47\u603B map \u5904\u7406\u7684\u6570\u636E</p></blockquote><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u96C6\u7FA4\u914D\u7F6E</p></div><blockquote><p>hdfs: name node \u4E0E secondary namenode yarn: resourcemanger \u90FD\u6BD4\u8F83\u8017\u5185\u5B58, \u5206\u5728\u4E0D\u540C\u673A\u5668\u653E namenode : hadoop1 ,secondary namenode: hadoop3 , resourcemanager: hadoop2 \u96C6\u7FA4\u542F\u52A8, workers \u914D\u7F6E\u6587\u4EF6\u6307\u5B9A\u6240\u6709\u4E3B\u673A\u7684 hostname \u7B2C\u4E00\u6B21\u542F\u52A8\u6CE8\u610F\u5148\u683C\u5F0F\u5316 namanode \u6240\u5728\u8282\u70B9, start-all.sh \u5E94\u5F53\u5728 resourcemanager \u4E0A\u542F\u52A8\u6574\u4E2A\u96C6\u7FA4</p></blockquote><h2 id="core-site-xml" tabindex="-1"><a class="header-anchor" href="#core-site-xml" aria-hidden="true">#</a> core-site.xml</h2><blockquote><p>namenode \u4FE1\u606F</p></blockquote><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- name node --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>fs.defaultFS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hdfs://hadoop1:9000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hadoop.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/home/battery/hadoop/tmp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- web\u64CD\u4F5C\u9ED8\u8BA4\u7528\u6237 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hadoop.http.staticuser.user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>battery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="hadoop-env-sh-\u6CA1\u5FC5\u8981" tabindex="-1"><a class="header-anchor" href="#hadoop-env-sh-\u6CA1\u5FC5\u8981" aria-hidden="true">#</a> hadoop-env.sh ?? \u6CA1\u5FC5\u8981</h2><blockquote><p>\u6307\u5B9A JAVA_HOME</p></blockquote><h2 id="hdfs-site-xml" tabindex="-1"><a class="header-anchor" href="#hdfs-site-xml" aria-hidden="true">#</a> hdfs-site.xml</h2><blockquote><p>\u6570\u636E\u526F\u672C\u6570, \u9ED8\u8BA4 3</p></blockquote><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.replication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- secondary namenode --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.secondary.http-address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hadoop3:9868<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u542F\u52A8 HDFS</p></div><h2 id="\u683C\u5F0F\u5316-name-node" tabindex="-1"><a class="header-anchor" href="#\u683C\u5F0F\u5316-name-node" aria-hidden="true">#</a> \u683C\u5F0F\u5316 name node</h2><blockquote><p>\u53EA\u5728\u7B2C\u4E00\u6B21\u542F\u52A8\u683C\u5F0F\u5316, namenode \u4E0E datanode clusterId \u9700\u8981\u4FDD\u6301\u4E00\u81F4</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>hdfs namenode -format
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="\u542F\u52A8-name-node" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8-name-node" aria-hidden="true">#</a> \u542F\u52A8 name node</h2><blockquote><p>hadoop-daemon.sh start namenode (\u65E7) hdfs --daemon start namenode (\u65B0)</p></blockquote><h2 id="\u542F\u52A8-data-node" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8-data-node" aria-hidden="true">#</a> \u542F\u52A8 data node</h2><blockquote><p>hadoop-daemon.sh start datanode (\u65E7) hdfs --daemon start datanode (\u65B0)</p></blockquote><p>\u6216\u8005:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>start-dfs.sh  <span class="token comment"># Start NameNode daemon and DataNode daemon</span>
<span class="token comment"># \u8F93\u51FA:</span>
<span class="token comment"># Starting namenodes on [hadoop1]</span>
<span class="token comment"># Starting datanodes</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="web-9870" tabindex="-1"><a class="header-anchor" href="#web-9870" aria-hidden="true">#</a> web: 9870</h2><blockquote><p>\u4E0D\u540C\u7248\u672C, web \u7AEF\u53E3\u4E0D\u4E00\u5B9A\u76F8\u540C</p></blockquote><h2 id="hdfs" tabindex="-1"><a class="header-anchor" href="#hdfs" aria-hidden="true">#</a> hdfs</h2><blockquote><p>\u9ED8\u8BA4\u6587\u4EF6 block size 128M</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>hdfs dfs -<span class="token punctuation">[</span>command<span class="token punctuation">]</span> <span class="token comment"># hdfs dfs -mkdir /data</span>

<span class="token punctuation">(</span>\u65B0<span class="token punctuation">)</span> hadoop fs <span class="token punctuation">[</span>-command<span class="token punctuation">]</span>

<span class="token comment"># \u4E0A\u4F20\u672C\u5730\u6587\u4EF6\u5230hdfs</span>
hdfs dfs -put local-file-path hdfs-path
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u542F\u52A8 YARN</p></div><h2 id="yarn-env-sh-\u6CA1\u5FC5\u8981" tabindex="-1"><a class="header-anchor" href="#yarn-env-sh-\u6CA1\u5FC5\u8981" aria-hidden="true">#</a> yarn-env.sh ?? \u6CA1\u5FC5\u8981</h2><blockquote><p>\u6307\u5B9A JAVA_HOME</p></blockquote><h2 id="yarn-site-xml" tabindex="-1"><a class="header-anchor" href="#yarn-site-xml" aria-hidden="true">#</a> yarn-site.xml</h2><blockquote><p>reduce \u83B7\u53D6\u6570\u636E\u7684\u65B9\u5F0F</p></blockquote><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.aux-services<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>mapreduce_shuffle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.env-whitelist<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.resourcemanager.hostname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hadoop2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u65E5\u5FD7 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.log-aggregation-enable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 7\u5929 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.log-aggregation.retain-seconds<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>604800<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="mapred-env-sh-\u6CA1\u5FC5\u8981" tabindex="-1"><a class="header-anchor" href="#mapred-env-sh-\u6CA1\u5FC5\u8981" aria-hidden="true">#</a> mapred-env.sh ?? \u6CA1\u5FC5\u8981</h2><blockquote><p>\u6307\u5B9A JAVA_HOME</p></blockquote><h2 id="mapred-site-xml" tabindex="-1"><a class="header-anchor" href="#mapred-site-xml" aria-hidden="true">#</a> mapred-site.xml</h2><blockquote><p>mapreduced \u76F8\u5173\u914D\u7F6E</p></blockquote><blockquote><p>mr-jobhistory-daemon.sh start historyserver (\u65E7) mapred --daemon start historyserver (\u65B0)</p></blockquote><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.framework.name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>yarn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.application.classpath<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*:$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- history --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.joshistory.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hadoop1:10020<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.joshistory.webapp.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hadoop1:19888<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="\u542F\u52A8-resource-manager" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8-resource-manager" aria-hidden="true">#</a> \u542F\u52A8 resource manager</h2><blockquote><p>yarn-daemon.sh start resourcemanager (\u65E7) yarn --daemon start resourcemanager (\u65B0)</p></blockquote><h2 id="\u542F\u52A8-node-manager" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8-node-manager" aria-hidden="true">#</a> \u542F\u52A8 node manager</h2><blockquote><p>yarn-daemon.sh start nodemanager (\u65E7) yarn --daemon start nodemanager (\u65B0)</p></blockquote><p>\u6216\u8005:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>start-yarn.sh  <span class="token comment"># Start ResourceManager daemon and NodeManager daemon</span>
<span class="token comment"># \u8F93\u51FA:</span>
<span class="token comment"># Starting resourcemanager</span>
<span class="token comment"># Starting nodemanagers</span>


</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="web-8088" tabindex="-1"><a class="header-anchor" href="#web-8088" aria-hidden="true">#</a> web: 8088</h2><blockquote><p>\u7AEF\u53E3\u53EF\u80FD\u6709\u53D8\u5316</p></blockquote><h2 id="wordcount" tabindex="-1"><a class="header-anchor" href="#wordcount" aria-hidden="true">#</a> wordcount</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>hadoop jar hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar wordcount /data/release /data/output
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:41:59,752 INFO client.RMProxy: Connecting to ResourceManager at hadoop1/192.168.221.90:8032
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,223 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding <span class="token keyword">for</span> path: /tmp/hadoop-yarn/staging/battery/.staging/job_1592404527237_0001
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,304 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted <span class="token operator">=</span> false, remoteHostTrusted <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,390 INFO input.FileInputFormat: Total input files to process <span class="token builtin class-name">:</span> <span class="token number">1</span>
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,423 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted <span class="token operator">=</span> false, remoteHostTrusted <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,451 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted <span class="token operator">=</span> false, remoteHostTrusted <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,460 INFO mapreduce.JobSubmitter: number of splits:1
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,594 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted <span class="token operator">=</span> false, remoteHostTrusted <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,612 INFO mapreduce.JobSubmitter: Submitting tokens <span class="token keyword">for</span> job: job_1592404527237_0001
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,612 INFO mapreduce.JobSubmitter: Executing with tokens: <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,799 INFO conf.Configuration: resource-types.xml not found
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:00,799 INFO resource.ResourceUtils: Unable to <span class="token function">find</span> <span class="token string">&#39;resource-types.xml&#39;</span><span class="token builtin class-name">.</span>
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:01,014 INFO impl.YarnClientImpl: Submitted application application_1592404527237_0001
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:01,091 INFO mapreduce.Job: The url to track the job: http://hadoop1:8088/proxy/application_1592404527237_0001/
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:01,092 INFO mapreduce.Job: Running job: job_1592404527237_0001
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:09,358 INFO mapreduce.Job: Job job_1592404527237_0001 running <span class="token keyword">in</span> uber mode <span class="token builtin class-name">:</span> <span class="token boolean">false</span>
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:09,381 INFO mapreduce.Job:  map <span class="token number">0</span>% reduce <span class="token number">0</span>%
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:13,513 INFO mapreduce.Job:  map <span class="token number">100</span>% reduce <span class="token number">0</span>%
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:18,557 INFO mapreduce.Job:  map <span class="token number">100</span>% reduce <span class="token number">100</span>%
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:18,565 INFO mapreduce.Job: Job job_1592404527237_0001 completed successfully
<span class="token number">2020</span>-06-17 <span class="token number">14</span>:42:19,223 INFO mapreduce.Job: Counters: <span class="token number">54</span>
        File System Counters
                FILE: Number of bytes <span class="token assign-left variable">read</span><span class="token operator">=</span><span class="token number">550</span>
                FILE: Number of bytes <span class="token assign-left variable">written</span><span class="token operator">=</span><span class="token number">452543</span>
                FILE: Number of <span class="token builtin class-name">read</span> <span class="token assign-left variable">operations</span><span class="token operator">=</span><span class="token number">0</span>
                FILE: Number of large <span class="token builtin class-name">read</span> <span class="token assign-left variable">operations</span><span class="token operator">=</span><span class="token number">0</span>
                FILE: Number of <span class="token function">write</span> <span class="token assign-left variable">operations</span><span class="token operator">=</span><span class="token number">0</span>
                HDFS: Number of bytes <span class="token assign-left variable">read</span><span class="token operator">=</span><span class="token number">521</span>
                HDFS: Number of bytes <span class="token assign-left variable">written</span><span class="token operator">=</span><span class="token number">464</span>
                HDFS: Number of <span class="token builtin class-name">read</span> <span class="token assign-left variable">operations</span><span class="token operator">=</span><span class="token number">8</span>
                HDFS: Number of large <span class="token builtin class-name">read</span> <span class="token assign-left variable">operations</span><span class="token operator">=</span><span class="token number">0</span>
                HDFS: Number of <span class="token function">write</span> <span class="token assign-left variable">operations</span><span class="token operator">=</span><span class="token number">2</span>
                HDFS: Number of bytes <span class="token builtin class-name">read</span> erasure-coded<span class="token operator">=</span><span class="token number">0</span>
        Job Counters
                Launched map <span class="token assign-left variable">tasks</span><span class="token operator">=</span><span class="token number">1</span>
                Launched reduce <span class="token assign-left variable">tasks</span><span class="token operator">=</span><span class="token number">1</span>
                Data-local map <span class="token assign-left variable">tasks</span><span class="token operator">=</span><span class="token number">1</span>
                Total <span class="token function">time</span> spent by all maps <span class="token keyword">in</span> occupied slots <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2471</span>
                Total <span class="token function">time</span> spent by all reduces <span class="token keyword">in</span> occupied slots <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2107</span>
                Total <span class="token function">time</span> spent by all map tasks <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2471</span>
                Total <span class="token function">time</span> spent by all reduce tasks <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2107</span>
                Total vcore-milliseconds taken by all map <span class="token assign-left variable">tasks</span><span class="token operator">=</span><span class="token number">2471</span>
                Total vcore-milliseconds taken by all reduce <span class="token assign-left variable">tasks</span><span class="token operator">=</span><span class="token number">2107</span>
                Total megabyte-milliseconds taken by all map <span class="token assign-left variable">tasks</span><span class="token operator">=</span><span class="token number">2530304</span>
                Total megabyte-milliseconds taken by all reduce <span class="token assign-left variable">tasks</span><span class="token operator">=</span><span class="token number">2157568</span>
        Map-Reduce Framework
                Map input <span class="token assign-left variable">records</span><span class="token operator">=</span><span class="token number">6</span>
                Map output <span class="token assign-left variable">records</span><span class="token operator">=</span><span class="token number">20</span>
                Map output <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">504</span>
                Map output materialized <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">550</span>
                Input <span class="token function">split</span> <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">97</span>
                Combine input <span class="token assign-left variable">records</span><span class="token operator">=</span><span class="token number">20</span>
                Combine output <span class="token assign-left variable">records</span><span class="token operator">=</span><span class="token number">20</span>
                Reduce input <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">20</span>
                Reduce shuffle <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">550</span>
                Reduce input <span class="token assign-left variable">records</span><span class="token operator">=</span><span class="token number">20</span>
                Reduce output <span class="token assign-left variable">records</span><span class="token operator">=</span><span class="token number">20</span>
                Spilled <span class="token assign-left variable">Records</span><span class="token operator">=</span><span class="token number">40</span>
                Shuffled Maps <span class="token operator">=</span><span class="token number">1</span>
                Failed <span class="token assign-left variable">Shuffles</span><span class="token operator">=</span><span class="token number">0</span>
                Merged Map <span class="token assign-left variable">outputs</span><span class="token operator">=</span><span class="token number">1</span>
                GC <span class="token function">time</span> elapsed <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">84</span>
                CPU <span class="token function">time</span> spent <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">900</span>
                Physical memory <span class="token punctuation">(</span>bytes<span class="token punctuation">)</span> <span class="token assign-left variable">snapshot</span><span class="token operator">=</span><span class="token number">451174400</span>
                Virtual memory <span class="token punctuation">(</span>bytes<span class="token punctuation">)</span> <span class="token assign-left variable">snapshot</span><span class="token operator">=</span><span class="token number">5198319616</span>
                Total committed heap usage <span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">301989888</span>
                Peak Map Physical memory <span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">270835712</span>
                Peak Map Virtual memory <span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2596036608</span>
                Peak Reduce Physical memory <span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">180338688</span>
                Peak Reduce Virtual memory <span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2602283008</span>
        Shuffle Errors
                <span class="token assign-left variable">BAD_ID</span><span class="token operator">=</span><span class="token number">0</span>
                <span class="token assign-left variable">CONNECTION</span><span class="token operator">=</span><span class="token number">0</span>
                <span class="token assign-left variable">IO_ERROR</span><span class="token operator">=</span><span class="token number">0</span>
                <span class="token assign-left variable">WRONG_LENGTH</span><span class="token operator">=</span><span class="token number">0</span>
                <span class="token assign-left variable">WRONG_MAP</span><span class="token operator">=</span><span class="token number">0</span>
                <span class="token assign-left variable">WRONG_REDUCE</span><span class="token operator">=</span><span class="token number">0</span>
        File Input Format Counters
                Bytes <span class="token assign-left variable">Read</span><span class="token operator">=</span><span class="token number">424</span>
        File Output Format Counters
                Bytes <span class="token assign-left variable">Written</span><span class="token operator">=</span><span class="token number">464</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div>`,60);function e(t,o){return p}var r=s(a,[["render",e]]);export{r as default};
